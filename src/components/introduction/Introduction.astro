---
import introImage from "../../assets/sample.jpg";
import SkillCard from "./skill_card.astro";

import gameIcon from "../../assets/skill/game.svg";
import webIcon from "../../assets/skill/web.svg";
import mobileIcon from "../../assets/skill/mobile.svg";
import devOpsIcon from "../../assets/skill/devops.svg";
---

<section
        id="introduction"
        class="introduction-main-container"
        aria-labelledby="about-heading"
        itemscope
        itemtype="https://schema.org/Person"
>
        <h2 id="about-heading" class="introduction-title" itemprop="name">
                About Me
        </h2>

        <aside class="introduction-image-container" aria-label="Portrait">
                <figure class="introduction-image">
                        <img
                                src={introImage.src}
                                alt="Ervin Pangilinan portrait"
                                width={introImage.width}
                                height={introImage.height}
                                loading="lazy"
                                itemprop="image"
                        />
                        <figcaption class="visually-hidden">
                                Portrait used in the about section
                        </figcaption>
                </figure>
        </aside>

        <div class="introduction-content" itemprop="description">
                <p class="introduction-description" itemprop="text">
                        I started coding in 2021 as a hobby that quickly became
                        a committed practice and curiosity matured into
                        discipline. Focusing on solving real problems, user
                        accessible interfaces, and measurable performance.
                        Projects solo and collaborative taught me planning, code
                        reviews, and iterative shipping. As a Computer Science
                        graduate, I keep strengthening fundamentals algorithms,
                        data structures, testing to deliver cleaner,
                        maintainable, user‑centered code.
                </p>

                <section
                        class="introduction-skills"
                        aria-labelledby="skills-heading"
                >
                        <h3 id="skills-heading">What I can do</h3>
                        <ul class="skills-list" role="list">
                                <li itemprop="knowsAbout">
                                        <SkillCard
                                                title="Web Applications"
                                                content="Design end‑to‑end apps: clear flows, reusable components, secure data, fast accessible pages."
                                                icon={webIcon}
                                        />
                                </li>
                                <li itemprop="knowsAbout">
                                        <SkillCard
                                                title="Mobile Applications"
                                                content="Build native-feel apps: offline data, smooth navigation, continuous reliable updates."
                                                icon={mobileIcon}
                                        />
                                </li>
                                <li itemprop="knowsAbout">
                                        <SkillCard
                                                title="DevOps Basics"
                                                content="Automate deployments: CI/CD pipelines, containerization, cloud hosting, monitoring."
                                                icon={devOpsIcon}
                                        />
                                </li>
                                <li itemprop="knowsAbout">
                                        <SkillCard
                                                title="Game Development"
                                                content="Prototype fun 2D games: simple controls, basic AI, polished UI, smooth performance."
                                                icon={gameIcon}
                                        />
                                </li>
                        </ul>
                </section>
        </div>
</section>

<style>
        .introduction-main-container {
                display: grid;
                grid-template-columns: 1fr;
                justify-items: center;
                width: 100%;
                margin-top: 10vh;
                padding-inline: 42px;
                gap: 24px;

                @media (min-width: 768px) {
                        width: 768px;
                        padding-inline: 32px;
                }

                @media (min-width: 1024px) {
                        width: 80vw;
                        grid-template-columns: repeat(2, 1fr);
                        grid-auto-rows: auto;
                        gap: 16px;

                        .introduction-title {
                                grid-column: 1 / -1;
                        }

                        .introduction-image-container {
                                align-self: start;
                                order: 2;
                        }

                        .introduction-content {
                                align-self: start;
                                order: 1;
                        }
                }
        }

        .introduction-title {
                width: 100%;
                text-align: left;
                font-size: clamp(2.4rem, 4.5vw, 3.4rem);
                margin-bottom: 32px;
        }

        .introduction-image-container {
                position: relative;
                display: flex;
                justify-content: center;
                align-items: center;
                width: 80%;
                @media (min-width: 480px) {
                        max-width: 280px;
                }

                @media (min-width: 768px) {
                        max-width: 360px;
                }

                @media (min-width: 1024px) {
                        max-width: 480px;
                }

                .introduction-image {
                        padding: 12px;
                        height: fit-content;
                        background: var(--color-surface);
                        border: 3px dashed var(--color-primary-20);
                        border-radius: 64px 0 64px 0;

                        img {
                                width: 100%;
                                height: auto;
                                border-radius: 50px 0 50px 0;
                                filter: grayscale(1) brightness(0.98)
                                        contrast(1.05);
                                animation: introImagePulse 6s ease-in-out
                                        infinite;
                                transition: all 0.3s ease-in-out;
                        }

                        &:hover {
                                scale: 1.01;
                                box-shadow:
                                        0 0 0 1px var(--color-shadow),
                                        0 8px 24px var(--color-shadow-strong);
                                border: 2px dashed var(--color-primary);
                                img {
                                        filter: none;
                                }
                        }
                }
        }

        .introduction-content {
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                justify-content: center;
                gap: 32px;
        }

        .introduction-description {
                font-size: 1.05rem;
                line-height: 1.7;
                color: var(--color-text-secondary);
                letter-spacing: 0.2px;
                -webkit-hyphens: auto;

                &:first-of-type {
                        text-indent: 0;

                        &::first-letter {
                                float: left;
                                font-size: 3.4rem;
                                line-height: 0.9;
                                font-weight: 600;
                                margin: 4px 8px 0 0;
                                font-family: "Playfair Display", serif;
                                color: var(--color-text-primary);
                        }
                }
        }

        .keyword-blurb strong {
                color: var(--color-text-primary);
                font-weight: 600;
        }

        .introduction-skills {
                display: grid;
                grid-template-columns: 1fr;
                justify-items: center;
                gap: 32px;
                width: 100%;
                margin-top: 16px;
        }

        .introduction-skills > h3 {
                width: 100%;
                margin: 0;
                font-size: clamp(1.6rem, 3vw, 2.2rem);
                line-height: 1.2;
        }

        .skills-list {
                list-style: none;
                padding: 0;
                margin: 0;
                display: contents; /* let grid layout be controlled by parent */
        }

        @media (min-width: 768px) {
                .introduction-skills {
                        grid-template-columns: repeat(2, 1fr);
                }

                .introduction-skills > h3 {
                        grid-column: 1 / -1;
                }
        }

        .visually-hidden {
                position: absolute;
                width: 1px;
                height: 1px;
                padding: 0;
                margin: -1px;
                overflow: hidden;
                clip: rect(0 0 0 0);
                white-space: nowrap;
                border: 0;
        }

        * {
                transition: all 0.3s ease-in-out;
        }
</style>
